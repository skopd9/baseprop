<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Turnkey - Real Estate Operational Workflows</title>
    <style>
      /* Hide ElevenLabs branding */
      elevenlabs-convai::part(branding),
      elevenlabs-convai [data-testid*="branding"],
      elevenlabs-convai [class*="branding"],
      elevenlabs-convai [class*="powered-by"],
      elevenlabs-convai [class*="attribution"] {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        height: 0 !important;
        overflow: hidden !important;
      }
      
      /* Additional selectors to hide branding text */
      elevenlabs-convai *:contains("Powered by"),
      elevenlabs-convai *:contains("ElevenLabs"),
      elevenlabs-convai *:contains("Conversational AI") {
        display: none !important;
      }
      
      /* Hide shadow DOM branding if accessible */
      elevenlabs-convai {
        --branding-display: none;
        --attribution-display: none;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    
    <!-- ElevenLabs Voice Agent Widget (will be conditionally shown) -->
    <div id="elevenlabs-widget-container">
      <elevenlabs-convai 
        agent-id="agent_01jyrmn6w3e448zv4t637cev3b"
        action-text="Need help?"
        start-call-text="Get Started"
        end-call-text="End chat"
        expand-text="Get help"
        listening-text="Listening..."
        speaking-text="AI assistant speaking"
      ></elevenlabs-convai>
    </div>
    <script
      src="https://unpkg.com/@elevenlabs/convai-widget-embed"
      async
      type="text/javascript"
    ></script>
    
    <script>
      // Function to remove ElevenLabs branding
      function removeBranding() {
        const widget = document.querySelector('elevenlabs-convai');
        if (widget) {
          // Try to access shadow DOM
          const shadowRoot = widget.shadowRoot;
          if (shadowRoot) {
            // Remove branding elements from shadow DOM
            const brandingSelectors = [
              '[data-testid*="branding"]',
              '[class*="branding"]',
              '[class*="powered-by"]',
              '[class*="attribution"]',
              'div:contains("Powered by")',
              'span:contains("ElevenLabs")',
              'div:contains("Conversational AI")'
            ];
            
            brandingSelectors.forEach(selector => {
              try {
                const elements = shadowRoot.querySelectorAll(selector);
                elements.forEach(el => {
                  el.style.display = 'none';
                  el.remove();
                });
              } catch (e) {
                // Selector might not be supported
              }
            });
            
            // Remove text content containing branding
            const textElements = shadowRoot.querySelectorAll('*');
            textElements.forEach(el => {
              if (el.textContent && (
                el.textContent.includes('Powered by') ||
                el.textContent.includes('ElevenLabs') ||
                el.textContent.includes('Conversational AI')
              )) {
                el.style.display = 'none';
              }
            });
          }
          
          // Also try regular DOM
          const regularBrandingElements = widget.querySelectorAll('[data-testid*="branding"], [class*="branding"], [class*="powered-by"]');
          regularBrandingElements.forEach(el => {
            el.style.display = 'none';
            el.remove();
          });
        }
      }
      
      // Run branding removal when widget loads
      document.addEventListener('DOMContentLoaded', () => {
        // Wait for widget to load
        setTimeout(removeBranding, 1000);
        
        // Also run periodically in case branding loads later
        setInterval(removeBranding, 2000);
        
        // Listen for widget events
        const widget = document.querySelector('elevenlabs-convai');
        if (widget) {
          widget.addEventListener('load', removeBranding);
          widget.addEventListener('elevenlabs-convai:ready', removeBranding);
        }
      });
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>